define("mod_pokcertificate/homepage",["exports","jquery","core/ajax","core/templates","core/str","core/modal_factory","mod_pokcertificate/cardPaginate"],(function(_exports,_jquery,_ajax,_templates,_str,_modal_factory,_cardPaginate){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax),_templates=_interopRequireDefault(_templates),_modal_factory=_interopRequireDefault(_modal_factory),_cardPaginate=_interopRequireDefault(_cardPaginate);var selector_container=".programs_container",selector_targetElement=".programs_sectors_list",selector_moreprograms='[data-action="moreprograms"]';return _exports.default=class{init(){let sector=0;(0,_jquery.default)(selector_targetElement+" li.nav-item").on("click",(function(e){e.preventDefault(),sector=e.target.getAttribute("data-id"),(0,_jquery.default)(selector_targetElement+" li.nav-item a.active").removeClass("active"),(0,_jquery.default)(this).children("a").addClass("active"),_ajax.default.call([{methodname:"local_trainingprogram_programcards",args:{sector:sector}}])[0].done((function(resp){_templates.default.render("mod_pokcertificate/homepage/program_card",{programs:resp}).done((function(html,js){_templates.default.replaceNodeContents(selector_container,html,js)}))}))}))}morePrograms(){(0,_jquery.default)(selector_moreprograms).on("click",(function(e){e.preventDefault();let pagenumber=e.target.getAttribute("data-pagenumber"),limit=e.target.getAttribute("data-limit"),numberofprograms=e.target.getAttribute("data-numberofprograms"),options=(0,_jquery.default)(this).data("options"),perpage=parseInt(pagenumber)+parseInt(limit);options.perPage=perpage;let dataoptions=(0,_jquery.default)(this).data("dataoptions"),filterdatavalue=(0,_jquery.default)(this).data("filterdata");perpage!=numberofprograms&&_cardPaginate.default.reload(options,dataoptions,filterdatavalue),pagenumber==numberofprograms&&(0,_jquery.default)(this).hide(),(0,_jquery.default)(this).attr("data-pagenumber",perpage)}))}confirmbox(message){_modal_factory.default.create({body:message,type:_modal_factory.default.types.ALERT,buttons:{cancel:(0,_str.get_string)("ok")},removeOnClose:!0}).done((function(modal){modal.show()}))}},_exports.default}));

//# sourceMappingURL=homepage.min.js.map