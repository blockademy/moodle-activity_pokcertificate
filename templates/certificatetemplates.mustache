{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_pokcertificate/certificatetemplates

    TODO describe template certificatetemplates

    Example context (json):
    {
    }
}}
<div class="row ">
    <label class="radio-inline">
        <input type="radio" name="optradio" data-value = "0" {{^temptype}}checked="checked" {{/temptype}} data-action = "templatetype" checked="checked">{{#str}}free,pokcertificate{{/str}}
    </label>
    <label class="radio-inline">
        <input type="radio" name="optradio" data-value = "1"  {{#temptype}}checked="checked" {{/temptype}} data-action = "templatetype">{{#str}}paid,pokcertificate{{/str}}
    </label>
</div>
<div class="row certtemplatedata">
    {{#certdata}}

    <div class=" cc-selector column">
        <input id="{{name}}" type="radio" name="templates" {{#selectedtemplate}} checked="checked" {{/selectedtemplate}} value="{{config.wwwroot}}/mod/pokcertificate/fieldmapping.php?id={{cmid}}&temp={{tempname}}" />
        <label class="drinkcard-cc" for="{{name}}" style ="background-image:url({{certimage}})" ">{{name}}</label>
    </div>
    {{/certdata}}

</div>
  <a href class="btn btn-secondary certbutton" id="certbutton">{{#str}}usethistemplate, mod_pokcertificate{{/str}}</a>

{{#js}}
  document.getElementById("certbutton").onclick = function() {
    var templateurl = $("input[type='radio'][name='templates']:checked").val();
    var type = $("input[type='radio'][name='optradio']:checked").attr('data-value');
    if(templateurl){
        window.location.href = templateurl+'&type='+type;
    }else{
        window.location.href = 'javascript:void(0)';
    }
    return false;
  };
{{/js}}
