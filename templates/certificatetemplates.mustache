{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_pokcertificate/certificatetemplates

    Describe template certificatetemplates

    Example context (json):
    {
    }
}}
<div class="row ">
  <div class="col-md-12">
    <label class="radio-inline">
        <input type="radio" name="optradio" data-value = "0" {{^temptype}}checked="checked" {{/temptype}} data-action = "templatetype" checked="checked">{{#str}}free,pokcertificate{{/str}}
    </label>
    <label class="radio-inline">
        <input type="radio" name="optradio" data-value = "1"  {{#temptype}}checked="checked" {{/temptype}} data-action = "templatetype">{{#str}}paid,pokcertificate{{/str}}
    </label>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="grid">
            {{#certdata}}
            <label class="card">
                 <input name="templates" class="certradio" type="radio" {{#selectedtemplate}} checked="checked" {{/selectedtemplate}} value="{{config.wwwroot}}/mod/pokcertificate/fieldmapping.php?id={{cmid}}&temp={{tempname}}">
                <span class="template-details">
                <span class="template-name">{{name}}</span>
                <img src="{{certimage}}" alt="" class="">
                </span>
            </label>
            {{/certdata}}
        </div>
        <a href class="btn btn-primary" id="certbutton">{{#str}}usethistemplate, mod_pokcertificate{{/str}}</a>
    </div>
</div>
{{#js}}
  document.getElementById("certbutton").onclick = function() {
    var templateurl = $("input[type='radio'][name='templates']:checked").val();
    var type = $("input[type='radio'][name='optradio']:checked").attr('data-value');
    if(templateurl){
        window.location.href = templateurl+'&type='+type;
    }else{
        window.location.href = 'javascript:void(0)';
    }
    return false;
  };
{{/js}}
