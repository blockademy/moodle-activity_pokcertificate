{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_pokcertificate

    TODO describe template holiday

    Example context (json):
    {
    }
}}
{{# canview}}
<div class="table-responsive">
    <table class="table generaltable ">
        <thead>
            <tr>
                <th>{{#str}}studentname,mod_pokcertificate{{/str}}</th>
                <th>{{#str}}surname,mod_pokcertificate{{/str}}</th>
                <th>{{#str}}email,mod_pokcertificate{{/str}}</th>
                <th>{{#str}}studentid,mod_pokcertificate{{/str}}</th>
                <th>{{#str}}language,mod_pokcertificate{{/str}}</th>
                {{# action}}
                    <th> {{#str}} actions,mod_pokcertificate{{/str}}</th>
                {{/ action}}
            </tr>
        </thead>
        <tbody>
            {{# results}}
                <tr>
                    <td>{{firstname}}</td>
                    <td>{{lastname}}</td>
                    <td>{{email}}</td>
                    <td>{{studentid}}</td>
                    <td>{{program}}</td>
                    {{# action}}
                        <td>
                            {{# update}}
                                <a class='course_extended_menu_itemlink' data-action='edit' data-id={{id}} data-title = "{{# str}} editstudent, mod_pokcertificate{{/ str}}" data-contextid = 1 >
                                    <span class='createicon'>
                                    <i class='createiconchild fa fa-pencil' aria-hidden='true'></i>
                                    </span>
                                </a>
                            {{/ update}}
                            <!-- {{# delete}}
                                <a href="javascript:void(0)" class='course_extended_menu_itemlink' data-title = "{{# str}} delete, local_settings{{/ str}}"
                                onclick="(function(e){ require('masterdata_holiday/holiday').deleteModal({id:{{id}}, name: '{{name}}', codearabic: '{{codearabic}}' ,contextid:1}) })(event)">
                                    <span class='createicon'>
                                        <i class='createiconchild fa fa-trash' aria-hidden='true'></i>
                                    </span>
                                </a>
                            {{/ delete}} -->
                        </td>
                    {{/ action}}
                </tr>
            {{/ results}}
        </tbody>
    </table>
</div>

{{/ canview}}
{{^ canview}}
    {{# str}} nopermission, local_settings{{/ str}}
{{/ canview}}
<script>
    window.onload = function() {
        require(['jquery','mod_pokcertificate/jquery.dataTables'], function($) {
            $(".generaltable").dataTable({
                retrieve: true,
                bInfo : false,
                lengthMenu: [5, 10, 25, 50],
                language: {
                    emptyTable: "No Records Found",
                    paginate: {
                        previous: "<",
                        next: ">"
                    }
                },
            });
        });
    }
</script>
